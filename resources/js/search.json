[[{"l":"Добро пожаловать","p":["Стартовая страница"]}],[{"l":"Iptables","p":["iptables -P- настройка правила по умолчанию","iptables -S- посмотреть правила таблицы FILTER","iptables -t nat -S- посмотреть правила таблицы NAT"]}],[{"l":"Sample","p":["This is a sample page demonstrating page metadata."]}],[{"l":"ДемоЭкзамен 2025","p":["This is a sample page demonstrating page metadata."]}],[{"l":"Block User","p":["usermod -L"]}],[{"l":"Certs","p":["-5, например -5 sslServer","-6, например -6 serverAuth","apt-get install nss-utils -y","certutil -d nssdb -A -t P,,-n web.test.local -i web.crt","А также, обозначить, что это сертификат сервера","Ваши файлы: web.key - ключ и web.crt - сам сертификат","Готово, теперь можно вытащить сертификат","Далее подпись вертите обратно, скопируйте его и впишите в certutil","Если нет certutil:","На рабочем клиенте:","На самом скриншоте есть гайд по пунктам","Нужно создать сервис, вместе с А записью до него. Далее сделать сертификат, а Common Name ОБЯЗАТЕЛЬНО должен вести на имя этого сервиса. Если имя узла web.test.local, то и CN такое же","Обычная такое используется для интерфейсов серверов и маршрутизаторов","При создании сертификата учитывайте параметры SAN (subjectAltName), флаг -8 их может быть очень много. А также AuthType Экспорт из NSS Базы данных в RAW формат","Сертификат от корпоративного CA FreeIPA","Скопируйте тело CSR и подпишите его.","Также обратите внимание, можно использовать другие флаги для keyUsage","Удостоверьтесь, что все SAN сертификаты есть в DNS: IP адреса должны быть в обратной зоне, а все DNS в прямой зоне. Укажие дополнительные псевдонимы"]},{"i":"section","l":"==============","p":["Вы можете создать запрос на сертификат (CSR) с указанными параметрами через файл, используя утилиту certutil для Linux. Вот шаги для создания CSR:","Создайте файл с именем cert_template.txt и добавьте в него следующее содержимое, заменив IP_ADDRESS и DNS_NAME на ваши IP-адрес и DNS-имя соответственно:","Создайте запрос на сертификат (CSR) с использованием утилиты certutil и файла шаблона, созданного на предыдущем шаге:","Эта команда создаст запрос на сертификат (CSR) с указанными параметрами и сохранит его в файле my_certificate.csr.","Тело запроса можно скопировать и подписать","Проверьте созданный CSR:","После создания CSR вы можете отправить его в доверенный центр сертификации (CA) для получения сертификата, подписанного этим центром сертификации."]}],[{"l":"DNS между филиалами","p":["DNS между филиалами В freeipa заходим на SRV-KLG(Сетевые службы->DNS->зоны перенаправления){Создаём зону rzn.jun.profi Перенаправители зон: 192.168.20.1; 10.0.0.1} Идём в зоны DNS; Добавляем ip-сеть обратной зоны всей сети rzn Потом nano /etc/named.conf Ищем путь /etc/bind/ipa-options-ext.conf И пишем Dnssec-validation no; Allow-query { any; }; Allow-recursion { any; }; Allow-transfer { any; }; На opnsense В srvices-> bind -> Configuration DNS forwarders 192.168.11.100 100.100.100.100"]}],[{"l":"Docker","p":["Короче, нужно скачать несколько пакетов","apt-get install docker-engine docker-compose python3-module-dockerpty","Обязательно запустить","systemctl enable --now docker","После команды compose лучше делать так:","docker compose up -d- то есть без \"-\" в команде"]}],[{"l":"Drupal","p":["apt-get install nginx php8.2-fpm-fcgi php8.2-openssl -y","apt-get install php8.2-pdo_pgsql php8.2-xml php8.2-xml php8.2-gd php8.2-json php8.2-curl php8.2-mbstring -y Отсюда: https://www.drupal.org/docs/getting-started/system-requirements/php-requirements","chmod 550 /opt/drupal* -R","chmod 770 sites/default/settings.php -R","chown _nginx:_php-fpm /opt/drupal* -R","cp /etc/nginx/site-available.d/default.conf /etc/nginx/site-enabled.d/default.conf","cp sites/default/default.settings.php sites/default/settings.php","nano /etc/nginx/site-enabled.d/default.conf","nano /etc/php/8.2/fpm-fcgi/php.ini","Servers LocalDB Databases cms (Выше будет иконка БД и кнопкой play. ниже Object и Tools) Выполнить запрос: CREATE EXTENSION pg_trgm; Ответ ниже: Query returned successfully, если нет, то перезапустите php8.2-fpm","systemctl enable --now php8.2-fpm nginx","unzip drupal-10.3.0.zip","wget https://ftp.drupal.org/files/projects/drupal-10.3.0.zip","Внутри БД, через pgadmin4 нужно выполнить активацию плагина:","И обязательно дать права на запись в этом файл для пользователя веб-сервера","Качем расширения для php","Могут быть беды с правами, параметрами root, если ошиблись. chmod и chown, но после установки сделать более безопасным и убрать флаги","ОО, это мега Drupal","Определённые условия нужно комбинировать, например при https, listen должен быть 443, а server с прослушка 80 должен перенаправлять","Перейти в нужно директорию","После перезапускам nginx и автозагрузка:","Скопировать пример конфига","Скопировать стандартный конфиг","Я брал отсюда: https://habr.com/ru/articles/320036/. По запросу: php nginx конфиг. Далее, не забудьте, что ещё есть https."]}],[{"l":"Ipa","p":["ipa-server-install --mkhomedir --skip-mem-check --ca-subject \"CN=NEW CA\",\"O=NEW ORG\",\"C=RU\" --subject-base \"O=NEW ORG\",\"C=RU\""]}],[{"l":"Iptables on ARM"}],[{"i":"joomla-mysql","l":"Joomla (mysql)","p":["Этот конфиг если не получится сделать по параметрам!!!"]}],[{"i":"joomla-pgadmin","l":"Joomla (pgadmin)"}],[{"l":"Kea","p":["{\"Dhcp4\": {\"interfaces-config\": {\"interfaces\": [\"eth0\" ]},\"option-data\": [{\"name\": \"domain-name-servers\",\"data\": \"8.8.8.8, 8.8.4.4\"} ],\"subnet4\": [ { \"subnet\": \"192.168.1.0/24\", \"pools\": [ { \"pool\": \"192.168.1.100 - 192.168.1.200\" } ], \"option-data\": [ { \"name\": \"routers\", \"data\": \"192.168.1.1\" } }, { \"subnet\": \"10.0.0.0/24\", \"pools\": [ { \"pool\": \"10.0.0.100 - 10.0.0.200\" } ], \"option-data\": [ { \"name\": \"routers\", \"data\": \"10.0.0.1\" } ] } ] } }"]}],[{"l":"Kerberos для yandex browser","p":["Надо скачать сертификат (если правильно скачивали freeipa то они будут загружены)","Создаем папку","Создаем файл mydomain.json","Делаем конфиг внутри","Даем для папки chmod","Перезагружаем yandex browser","Заходим в компьютер под пользователем admin!!!"]}],[{"l":"Nmcli","p":["nmcli connection add type loopback con-name lo1 ifname lo ipv4.addresses 192.168.1.1/24"]}],[{"i":"ospf-on-alt-поверх-vrrp","l":"OSPF on alt (поверх vrrp)"}],[{"i":"pgadmin4postgresql","l":"Pgadmin4+postgresql","p":["/etc/init.d/postgresql initdb","apt-get install python3-module-pkg_resources -y","apt-get install python3-modules-sqlte3 # Тут коварная “s”","apt-get update -y; apt-get install pip postgresql16-contrib postgresql16-server -y","bash DEFAULT_SERVER = `100.99.90.101` DEFAULT_SERVER_PORT = 8000","Create user General: name Privileges: Can login?: YES","nano /usr/local/lib/python3/site-packages/pgadmin4/config.py","pgadmin4","pip install https://ftp.postgresql.org/pub/pgadmin/pgadmin4/v8.8/pip/pgadmin4-8.8-py3-none-any.whl","Registed Connection: localhost, Username postgres","Вводим Email и пароль","Всё намного проще чем кажется. Поехали:","Если забыли то apt-cache search Что-то что надо найти","Запускаем pgadmin4","И пользователя","Качаем доп. пакеты для запуска","Меняем параметры для pgadmin4 вот так","На сайте pgadmin4 находим https://www.pgadmin.org/download/pgadmin-4-python/","Подключаем к базе данных","После этого можно закинуть pgadmin4 в автозапуск","Сборку pgadmin4 на питоне. Скопируйте ссылку, вставьте в браузер, найдите whl-файл и качаем оттуда whl файл","Создаём БД где ownder (владелец) пользователь"]}],[{"l":"Sudo","p":["chmod 4755 /usr/bin/sudo chmod 4755 /bin/su control sudo public"]}],[{"i":"vrrp-alt-linux","l":"VRRP (alt linux)","p":["Это мы делаем на R2-KLG тоесть главный","Это делаем на R3-KLG тоесть не главный Обязательно указываем приоритет 99, и в state BACKUP"]}],[{"l":"Vsftpd","p":["Установить пакеты:","apt-get install vsftpd anonftp","Сделать изменения в файле /etc/xinetd.d/vsftpd","disable = no #включает сервис","Проверить глобальные настройки xinetd в файле /etc/xinetd.conf, обратить внимание (возможно закомментировать) на строку","only_from = 0.0.0.0","В файле /etc/vsftpd.conf","Указать корректную домашнюю директорию пользователя","usermod -d /to/path user","Дать корректные права на домашнюю директорию пользователя, который подключатся по ftp","Перезапустить сервис","service xinetd restart ИЛИ systemctl restart xinetd","Установить запуск сервиса xinetd при загрузке системы","chkconfig xinetd on ИЛИ systemctl enable --now xinetd"]}],[{"i":"zabbix-без-контейнера","l":"Zabbix (без контейнера)","p":["```python user@debian wget https://repo.zabbix.com/zabbix/7.0/debian/pool/main/z/zabbix-release/zabbix-release_7.0-1+debian12_all.deb user@debian dpkg -i zabbix-release_7.0-1+debian12_all.deb user@debian apt update user@debian apt install zabbix-server-mysql zabbix-frontend-php zabbix-nginx-conf zabbix-sql-scripts zabbix-agent user@debian apt install mariadb user@debian mysql -u root -p mysql> create database zabbix character set utf8mb4 collate utf8mb4_bin; mysql> create user zabbix@localhost identified by 'P@ssw0rd'; mysql> grant all privileges on zabbix.* to zabbix@localhost; mysql> set global log_bin_trust_function_creators = 1; mysql> flush privileges; mysql> quit; user@debian zcat /usr/share/zabbix-sql-scripts/mysql/server.sql.gz | mysql --default-character-set=utf8mb4 -uzabbix -p zabbix user@debian mysql -uroot -p mysql> set global log_bin_trust_function_creators = 0; mysql> quit; user@debian nano /etc/zabbix/zabbix_server.conf... DBPassword=P@ssw0rd... user@debian nano /etc/nginx/conf.d/zabbix.conf...#раскоментим первые две строки listen 80; server_name _;... user@debian nano /etc/nginx/sites-available/default...#коментим весь файл... user@debian systemctl restart zabbix-server zabbix-agent nginx user@debian systemctl enable zabbix-server zabbix-agent nginx"]}],[{"l":"Zammad","p":["Как скачали Docker можно переходить к тикет приколам","Качем гит:","apt-get install git -y","После качаем репу куда надо","cd /opt/ git clone https://github.com/zammad/zammad-docker-compose.git","Заходим внутрь","cd zammad-docker-compose","Меняем параметры внутри docker-compose.yml на те, что нужны по заданию","nano docker-compose.yml","По сути тут только требуется изменения для nginx контейнера, думаю, что будет правильно смонтировать дополнительно volume внутри файла и перекинуть туда сертификаты и conf файлы для nginx","И поднимаем","docker-compose up -d","И типо всё!!! Можно зайти на сервер по порту 8080 через браузер.","В браузере укажите пользователя-админа и url ваш домен по которому нужна заходить на сайт","Учтите, что минимум 3 ГБ и 3 Ядра нужно"]}]]